(()=>{"use strict";var e,t={785:()=>{var e=document.getElementById("mainNav"),t=function(){window.scrollY<=10?e.classList.remove("navbar-shrink"):e.classList.add("navbar-shrink")};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=document.getElementById("moodchart");var r=Array.from(document.getElementsByClassName("js-formaction")),a=document.getElementById("formcontainer"),i={application:"ApplicationForm",note:"NoteForm",interview:"InterviewForm",statusupdate:"StatusUpdateForm"},s=function(){a.innerHTML="",a.insertAdjacentHTML("beforeend",'<div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div>'),tinyMCE.remove()};var c=function e(){Array.from(document.getElementsByTagName("form")).forEach((function(t){t.addEventListener("submit",(function(n){s(),n.preventDefault(),t.children.find;var o=new FormData(t);s(),fetch(t.action,{method:t.method,body:o,headers:{"x-requested-with":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(t){!1!==t.success&&!1!==t.form?(a.innerText="",a.insertAdjacentHTML("beforeend",t.form),tinyMCE.init({selector:"textarea.htmleditor",skin:"silverstripe",max_height:250,menubar:!1,statusbar:!1}),e()):(s(),setTimeout((function(){window.location.reload()}),500))})).catch((function(e){a.innerText="It seems something went wrong. Please try again?",setTimeout((function(){throw window.location.reload(),new Error(e)}),5e3)}))}))}))},d=Array.from(document.getElementsByClassName("js-moodtracker")),l=Array.from(document.getElementsByClassName("js-dayscore"))[0],u=function(e){d.forEach((function(t){parseInt(t.getAttribute("data-score"))!==e&&(t.parentElement.classList.add("text-muted"),t.children[0].classList.remove("h3"),t.children[0].classList.add("h4")),t.outerHTML=t.outerHTML}))};var m=document.getElementsByClassName("showOnClick")[0],f=document.getElementsByClassName("showOnClickContainer")[0];void 0!==navigator.getEnvironmentIntegrity&&(document.querySelector("body").innerHTML='<div class="container"><h1>Your browser contains Google DRM</h1>"Web Environment Integrity" is a Google euphemism for a DRM that is designed to prevent ad-blocking. In support of an open web, this website does not function with this DRM. Please install a browser such as <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a> that respects your freedom and supports ad blockers.</div>'),e&&(t(),document.addEventListener("scroll",t)),function(){if(window.chart=window.chart||[],n(window.chart)){var e={type:"line",data:{labels:window.chart.labels,datasets:[{label:"Mood",data:window.chart.values,borderWidth:1}]},options:{scales:{y:{min:1,max:5}}}};console.log(e),new Chart(o,e)}}(),document.getElementById("addItemModal").addEventListener("hidden.bs.modal",(function(e){s(),tinyMCE.remove()})),r.forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-itemtype").split("-"),n="".concat("formhandling/").concat(i[t[0]]),o=0;t.length>1&&("add"===t[1]&&(o=e.getAttribute("data-application")),"edit"===t[1]&&(o=e.getAttribute("data-id")),n="".concat(n,"/").concat(t[1],"/").concat(o)),s(),fetch(n,{method:"GET",headers:{"x-requested-with":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(e){a.innerHTML="",e.success&&!1!==e.form?(a.insertAdjacentHTML("beforeend",e.form),tinyMCE.init({selector:"textarea.htmleditor",skin:"silverstripe",max_height:250,menubar:!1,statusbar:!1}),c()):(s(),setTimeout((function(){window.location.reload()}),1e3))}))}))})),function(){if(l&&l.hasAttribute("data-dayscore")){var e=parseInt(l.getAttribute("data-dayscore"));u(e)}d.forEach((function(e){e.addEventListener("click",e.moodHandler=function(){!function(e){var t=e.getAttribute("data-score");fetch("/mood",{method:"POST",headers:{"x-requested-with":"XMLHttpRequest"},body:JSON.stringify({mood:t})}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e.mood);u(t)}))}(e)})}))}(),function(){if(m){var e=m.querySelectorAll("a")[0];e&&e.addEventListener("click",(function(e){e.preventDefault();var t=f.classList;t.contains("d-none")?t.remove("d-none"):t.add("d-none")}))}}()},981:()=>{}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,r,a]=e[l],s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(l--,1);var d=r();void 0!==d&&(t=d)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,r,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={546:0,200:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,s,c]=n,d=0;if(i.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var l=c(o)}for(t&&t(n);d<i.length;d++)a=i[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.O(void 0,[200],(()=>o(785)));var r=o.O(void 0,[200],(()=>o(981)));r=o.O(r)})();
//# sourceMappingURL=main.js.map